# 開発環境構築

## ① Node.jsのインストール

1. [ココ](https://nodejs.org/ja/)から、推奨版をDLしてインストール  

    ```console
    $ node -v
    v16.16.0
    ```

1. TypeScriptのCLI(tsc)をインストール

    ```console
    $ npm install -g typescript
    npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.

    changed 1 package, and audited 2 packages in 937ms

    found 0 vulnerabilities
    ```

    > **■Note**  
    > 上記のWarningは以下で消せる。([参考](https://stackoverflow.com/questions/72401421/message-npm-warn-config-global-global-local-are-deprecated-use-loc))  
    > `C:\Program Files\nodejs\`
    >
    > - npm.cmd (line12)
    >
    > ```diff
    > - FOR /F "delims=" %%F IN ('CALL "%NODE_EXE%" "%NPM_CLI_JS%" -g') DO (
    > + FOR /F "delims=" %%F IN ('CALL "%NODE_EXE%" "%NPM_CLI_JS%" prefix --location=global') DO (
    > ```
    >
    > - npm (line23)
    >
    > ```diff
    > - NPM_PREFIX=`"$NODE_EXE" "$NPM_CLI_JS" prefix -g`
    > + NPM_PREFIX=`"$NODE_EXE" "$NPM_CLI_JS" prefix prefix --location=global`
    > ```

## ② TypeScriptの設定、基本操作

1. TypeScriptの設定ファイル作成

    ソースコードのプロジェクトルートで以下を実行。

    ```console
    tsc --init
    ```

    ⇒ `tsconfig.json` が生成される  
    ⇒ [リファレンス](https://js.studio-kingdom.com/typescript/project_configuration/tsconfig_json)

1. TypeScriptのコンパイル

    ```console
    tsc --strictNullChecks xxx.ts
    ```

    ⇒ `xxx.js` が生成される

    > **■Note**  
    >
    >  - `--noimplicitAny`　暗黙的なanyを許容しない  
    >  - `--strictNullChecks`　明示的でない`null`や`undefined`を許容しない  
    >  - `--target`  どのバージョンのECMAで出力するか、例えばIE11をサポートするなら`es5`を指定

1. JavaScriptライブラリの型定義ファイルのインストール

    JavaScriptライブラリを使用する場合は、以下で、型情報を付与したライブラリを使用可能。(例は、jQuery)

    ```console
    npm install @types/jquery --save-dev
    ```

    > **■Note**  
    > 型定義ファイルが存在しない場合は、`xxx.d.ts`という拡張子の型定義ファイルの作成が必要

## ③ Prettierのインストール

1. Prettierのインストール

    ```console
    $ npm install prettier --save-dev
    $ npm view prettier version
    2.7.1
    ```

    ⇒ `node_modules`、`package.json`、`package-lock.json` が生成される

1. プロジェクトルートに、設定ファイル`.prettierrc`を作成

    ⇒ [リファレンス](https://qiita.com/web-novice/items/5664d69b14e249a5de7c)

1. package.jsonを変更

    ```diff
    + "scripts": {
    +     "prettier-format": "prettier --config .prettierrc --write src/**/*.ts"
    + }
    ```

    ※src以下の`.ts`ファイルがフォーマット対象

1. フォーマットの実行

    ```console
    npm run prettier-format
    ```
